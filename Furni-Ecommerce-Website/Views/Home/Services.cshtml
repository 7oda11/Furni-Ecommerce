@model List<Furni_Ecommerce_Shared.UserViewModel.ProductsAndCommentsViewModel>

@{
    ViewData["Title"] = "Services";
}

@* <h1>Services</h1> *@

<!-- Start Hero Section -->
			<div class="hero">
				<div class="container">
					<div class="row justify-content-between">
						<div class="col-lg-5">
							<div class="intro-excerpt">
								<h1>Services</h1>
								<p class="mb-4">Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate velit imperdiet dolor tempor tristique.</p>
								<p><a asp-controller="Shop" asp-action="Index" class="btn btn-secondary me-2">Shop Now</a><a  asp-controller="Home" asp-action="About" class="btn btn-white-outline">Explore</a></p>
							</div>
						</div>
						<div class="col-lg-7">
							<div class="hero-img-wrap">
								<img src="~/images/couch.png" class="img-fluid">
							</div>
						</div>
					</div>
				</div>
			</div>
		<!-- End Hero Section -->



		<!-- Start Why Choose Us Section -->
		<div class="why-choose-section">
			<div class="container">


				<div class="row my-5">
					<div class="col-6 col-md-6 col-lg-3 mb-4">
						<div class="feature">
							<div class="icon">
								<img src="~/images/truck.svg" alt="Image" class="imf-fluid">
							</div>
							<h3>Fast &amp; Free Shipping</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
						</div>
					</div>

					<div class="col-6 col-md-6 col-lg-3 mb-4">
						<div class="feature">
							<div class="icon">
								<img src="~/images/bag.svg" alt="Image" class="imf-fluid">
							</div>
							<h3>Easy to Shop</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
						</div>
					</div>

					<div class="col-6 col-md-6 col-lg-3 mb-4">
						<div class="feature">
							<div class="icon">
								<img src="~/images/support.svg" alt="Image" class="imf-fluid">
							</div>
							<h3>24/7 Support</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
						</div>
					</div>

					<div class="col-6 col-md-6 col-lg-3 mb-4">
						<div class="feature">
							<div class="icon">
								<img src="~/images/return.svg" alt="Image" class="imf-fluid">
							</div>
							<h3>Hassle Free Returns</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
						</div>
					</div>

					<div class="col-6 col-md-6 col-lg-3 mb-4">
						<div class="feature">
							<div class="icon">
								<img src="~/images/truck.svg" alt="Image" class="imf-fluid">
							</div>
							<h3>Fast &amp; Free Shipping</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
						</div>
					</div>

					<div class="col-6 col-md-6 col-lg-3 mb-4">
						<div class="feature">
							<div class="icon">
								<img src="~/images/bag.svg" alt="Image" class="imf-fluid">
							</div>
							<h3>Easy to Shop</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
						</div>
					</div>

					<div class="col-6 col-md-6 col-lg-3 mb-4">
						<div class="feature">
							<div class="icon">
								<img src="~/images/support.svg" alt="Image" class="imf-fluid">
							</div>
							<h3>24/7 Support</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
						</div>
					</div>

					<div class="col-6 col-md-6 col-lg-3 mb-4">
						<div class="feature">
							<div class="icon">
								<img src="~/images/return.svg" alt="Image" class="imf-fluid">
							</div>
							<h3>Hassle Free Returns</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
						</div>
					</div>

				</div>

			</div>
		</div>
		<!-- End Why Choose Us Section -->

		<!-- Start Product Section -->
		<div class="product-section pt-0">
			<div class="container">
				<div class="row">

					<!-- Start Column 1 -->
					<div class="col-md-12 col-lg-3 mb-5 mb-lg-0">
						<h2 class="mb-4 section-title">Crafted with excellent material.</h2>
						<p class="mb-4">Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate velit imperdiet dolor tempor tristique. </p>
						<p><a href="#" class="btn">Explore</a></p>
					</div> 
					<!-- End Column 1 -->

					<!-- Start Column 2 -->
					<div class="col-12 col-md-4 col-lg-3 mb-5 mb-md-0">
						<a class="product-item" href="#">
							<img src="~/images/product-1.png" class="img-fluid product-thumbnail">
							<h3 class="product-title">Nordic Chair</h3>
							<strong class="product-price">$50.00</strong>

							<span class="icon-cross">
								<img src="~/images/cross.svg" class="img-fluid">
							</span>
						</a>
					</div> 
					<!-- End Column 2 -->

					<!-- Start Column 3 -->
					<div class="col-12 col-md-4 col-lg-3 mb-5 mb-md-0">
						<a class="product-item" href="#">
							<img src="~/images/product-2.png" class="img-fluid product-thumbnail">
							<h3 class="product-title">Kruzo Aero Chair</h3>
							<strong class="product-price">$78.00</strong>

							<span class="icon-cross">
								<img src="~/images/cross.svg" class="img-fluid">
							</span>
						</a>
					</div>
					<!-- End Column 3 -->

					<!-- Start Column 4 -->
					<div class="col-12 col-md-4 col-lg-3 mb-5 mb-md-0">
						<a class="product-item" href="#">
							<img src="~/images/product-3.png" class="img-fluid product-thumbnail">
							<h3 class="product-title">Ergonomic Chair</h3>
							<strong class="product-price">$43.00</strong>

							<span class="icon-cross">
								<img src="~/images/cross.svg" class="img-fluid">
							</span>
						</a>
					</div>
					<!-- End Column 4 -->

				</div>
			</div>
		</div>
		<!-- End Product Section -->



		<!-- Start Testimonial Slider -->

<div class="testimonial-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-7 mx-auto text-center">
                <h2 class="section-title">Testimonials</h2>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="testimonial-slider-wrap text-center">
                    <div id="testimonial-nav">
                        <span class="prev" data-controls="prev"><span class="fa fa-chevron-left"></span></span>
                        <span class="next" data-controls="next"><span class="fa fa-chevron-right"></span></span>
                    </div>
                    <div class="testimonial-slider">
                        @foreach (var product in Model)
                        {
                            if (product.Comments != null)
                            {
                                foreach (var comment in product.Comments)
                                {
                                                            <div class="testimonial-item">
                                                                <div class="row justify-content-center">
                                                                    <div class="col-lg-8 mx-auto">
                                                                        <div class="testimonial-block text-center">
                                                                            <blockquote class="mb-5">
                                                                                <p>@comment.Text</p>
                                                                            </blockquote>
                                                                            <div class="author-info">
                                                                                <div class="author-pic">
                                                                                    <img src="~/images/person-1.png" alt="Author" class="img-fluid">
                                                                                </div>
                                                                                <h3 class="font-weight-bold">@comment.UserName</h3>
                                                                                <span class="position d-block mb-3">Customer</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                }
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .testimonial-slider-wrap {
        position: relative;
    }

    .testimonial-slider {
        position: relative;
        overflow: hidden;
        margin: 0 auto;
        height: 400px; 
    }

    .testimonial-item {
        position: absolute;
        width: 100%;
        padding: 20px;
        transition: all 0.6s ease-in-out;
        opacity: 0;
        transform: translateX(100%);
    }

    .testimonial-item.active {
        opacity: 1;
        transform: translateX(0);
    }

    .testimonial-item.prev-item {
        transform: translateX(-100%);
    }

    .testimonial-item.next-item {
        transform: translateX(100%);
    }

    #testimonial-nav {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        transform: translateY(-50%);
        z-index: 10;
    }

    #testimonial-nav span {
        position: absolute;
        cursor: pointer;
        width: 40px;
        height: 40px;
        background: #fff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        color: #333;
        font-size: 18px;
    }

    #testimonial-nav span:hover {
        background: #007bff;
        color: #fff;
    }

    #testimonial-nav .prev {
        left: 10px;
    }

    #testimonial-nav .next {
        right: 10px;
    }

    .testimonial-block {
        border-radius: 50%;
    }

    .author-pic img {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        object-fit: cover;
        margin: 0 auto 15px;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const slider = document.querySelector('.testimonial-slider');
        const items = slider.querySelectorAll('.testimonial-item');
        const prevBtn = document.querySelector('#testimonial-nav .prev');
        const nextBtn = document.querySelector('#testimonial-nav .next');

        let currentIndex = 0;

        function initSlider() {
            if (items.length > 0) {
                items.forEach((item, index) => {
                    item.classList.remove('active', 'prev-item', 'next-item');
                    if (index === currentIndex) {
                        item.classList.add('active');
                    } else if (index === (currentIndex + 1) % items.length) {
                        item.classList.add('next-item');
                    } else if (index === (currentIndex - 1 + items.length) % items.length) {
                        item.classList.add('prev-item');
                    }
                });
            }
        }

        function goToSlide(index) {
            items[currentIndex].classList.remove('active');
            items[currentIndex].classList.add(index > currentIndex ? 'prev-item' : 'next-item');

            items[index].classList.remove('prev-item', 'next-item');
            items[index].classList.add('active');

            // Update adjacent slides
            const nextIndex = (index + 1) % items.length;
            const prevIndex = (index - 1 + items.length) % items.length;

            items.forEach(item => item.classList.remove('next-item', 'prev-item'));
            items[nextIndex].classList.add('next-item');
            items[prevIndex].classList.add('prev-item');

            currentIndex = index;
        }

        function showNext() {
            const nextIndex = (currentIndex + 1) % items.length;
            goToSlide(nextIndex);
        }

        function showPrev() {
            const prevIndex = (currentIndex - 1 + items.length) % items.length;
            goToSlide(prevIndex);
        }

        initSlider();

        nextBtn.addEventListener('click', showNext);
        prevBtn.addEventListener('click', showPrev);

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight') {
                showNext();
            } else if (e.key === 'ArrowLeft') {
                showPrev();
            }
        });

        let touchStartX = 0;
        let touchEndX = 0;

        slider.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        }, false);

        slider.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, false);

        function handleSwipe() {
            if (touchEndX < touchStartX - 50) {
                showNext(); 
            }
            if (touchEndX > touchStartX + 50) {
                showPrev(); 
            }
        }
    });
</script>