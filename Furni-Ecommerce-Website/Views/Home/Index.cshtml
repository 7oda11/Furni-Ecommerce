@model List<Furni_Ecommerce_Shared.UserViewModel.ProductsAndCommentsViewModel>

@{
	ViewData["Title"] = "Home Page";
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<div class="hero">
	<div class="container">
		<div class="row justify-content-between">
			<div class="col-lg-5">
				<div class="intro-excerpt">
					<h1>Modern Interior <span class="d-block">Design Studio</span></h1>
					<p class="mb-4">Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate velit imperdiet dolor tempor tristique.</p>
					<p><a href="" class="btn btn-secondary me-2">Shop Now</a><a href="#" class="btn btn-white-outline">Explore</a></p>
				</div>
			</div>
			<div class="col-lg-7">
				<div class="hero-img-wrap">
					<img src="~/images/couch.png" class="img-fluid">
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Start Product Section -->
<div class="product-section">
	<div class="container">
		<div class="row">
			<div class="col-md-12 col-lg-3 mb-5 mb-lg-0">
				<h2 class="mb-4 section-title">Crafted with excellent material.</h2>
				<p class="mb-4">Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate velit imperdiet dolor tempor tristique.</p>
				<p><a href="shop.html" class="btn">Explore</a></p>
			</div>

			@for (int i = 0; i < 3 && i < Model.Count; i++)
			{
				<div class="col-12 col-md-4 col-lg-3 mb-5 mb-md-0" style="position:relative;">
					
						<a class="product-item" asp-controller="Home" asp-action="PrdDetails" asp-route-id="@Model[i].Id">
						 
							<img src="~/images/@Model[i].ImagePath" class="img-fluid product-thumbnail">
							<h3 class="product-title">@Model[i].Name</h3>
							<strong class="product-price">$@Model[i].Price</strong>
						    <span class="icon-cross">
								<img src="~/images/cross.svg" class="img-fluid">
							</span>
						<a class="nav-link"><i class="fa-regular fa-heart heart me-2 fs-5 heart-iconn" data-id="@Model[i].Id"></i></a>
						</a>
					
					</div>
			}
		</div>
	</div>
</div>
<!-- End Product Section -->

<!-- Why Choose Us -->
<div class="why-choose-section">
	<div class="container">
		<div class="row justify-content-between">
			<div class="col-lg-6">
				<h2 class="section-title">Why Choose Us</h2>
				<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate velit imperdiet dolor tempor tristique.</p>

				<div class="row my-5">
					@* Features loop can be used here if dynamic *@
					<div class="col-6 col-md-6">
						<div class="feature">
							<div class="icon">
								<img src="~/images/truck.svg" alt="Image" class="img-fluid">
							</div>
							<h3>Fast &amp; Free Shipping</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit.</p>
						</div>
					</div>
					<div class="col-6 col-md-6">
						<div class="feature">
							<div class="icon">
								<img src="~/images/bag.svg" alt="Image" class="img-fluid">
							</div>
							<h3>Easy to Shop</h3>
							<p>Aliquam vulputate velit imperdiet dolor tempor tristique.</p>
						</div>
					</div>
					<div class="col-6 col-md-6">
						<div class="feature">
							<div class="icon">
								<img src="~/images/support.svg" alt="Image" class="img-fluid">
							</div>
							<h3>24/7 Support</h3>
							<p>Donec vitae odio quis nisl dapibus malesuada.</p>
						</div>
					</div>
					<div class="col-6 col-md-6">
						<div class="feature">
							<div class="icon">
								<img src="~/images/return.svg" alt="Image" class="img-fluid">
							</div>
							<h3>Hassle Free Returns</h3>
							<p>Aliquam vulputate velit imperdiet dolor tempor tristique.</p>
						</div>
					</div>
				</div>
			</div>

			<div class="col-lg-5">
				<div class="img-wrap">
					<img src="~/images/why-choose-us-img.jpg" alt="Image" class="img-fluid">
				</div>
			</div>
		</div>
	</div>
</div>

<!-- We Help Section -->
<div class="we-help-section">
	<div class="container">
		<div class="row justify-content-between">
			<div class="col-lg-7 mb-5 mb-lg-0">
				<div class="imgs-grid">
					<div class="grid grid-1"><img src="~/images/img-grid-1.jpg" alt=""></div>
					<div class="grid grid-2"><img src="~/images/img-grid-2.jpg" alt=""></div>
					<div class="grid grid-3"><img src="~/images/img-grid-3.jpg" alt=""></div>
				</div>
			</div>
			<div class="col-lg-5 ps-lg-5">
				<h2 class="section-title mb-4">We Help You Make Modern Interior Design</h2>
				<p>Donec facilisis quam ut purus rutrum lobortis. Pellentesque habitant morbi tristique senectus et netus.</p>
				<ul class="list-unstyled custom-list my-4">
					<li>Quality craftsmanship and design</li>
					<li>Personalized interior services</li>
					<li>Innovative ideas for every space</li>
					<li>Support throughout the process</li>
				</ul>
				<p><a href="#" class="btn">Explore</a></p>
			</div>
		</div>
	</div>
</div>

<!-- Popular Product Section -->
<div class="popular-product">
	<div class="container">
		<div class="row">
			@for (int i = 0; i < 3 && i < Model.Count; i++)
			{
					<div class="col-12 col-md-6 col-lg-4 mb-4 mb-lg-0">
						<div class="product-item-sm d-flex">
							<div class="thumbnail">
								<img src="~/images/@Model[i].ImagePath" alt="Image" class="img-fluid">
							</div>
							<div class="pt-3">
								<h3>@Model[i].Name</h3>
								<p>@Model[i]?.Description</p>
								<p><a asp-controller="Home" asp-action="PrdDetails" asp-route-id="@Model[i].Id">Read More</a></p>
							</div>
						</div>
					</div>
			}
		</div>
	</div>
</div>

<!-- Testimonial Section -->
<div class="testimonial-section">
	<div class="container">
		<div class="row">
			<div class="col-lg-7 mx-auto text-center">
				<h2 class="section-title">Testimonials</h2>
			</div>
		</div>
		<div class="row justify-content-center">
			<div class="col-lg-12">
				<div class="testimonial-slider-wrap text-center">
					<div id="testimonial-nav">
						<span class="prev" data-controls="prev"><span class="fa fa-chevron-left"></span></span>
						<span class="next" data-controls="next"><span class="fa fa-chevron-right"></span></span>
					</div>
					<div class="testimonial-slider">
						@foreach (var product in Model)
						{
							if (product.Comments != null)
							{
								foreach (var comment in product.Comments)
								{
												<div class="item">
													<div class="row justify-content-center">
														<div class="col-lg-8 mx-auto">
															<div class="testimonial-block text-center">
																<blockquote class="mb-5">
																	<p>@comment.Text</p>
																</blockquote>
																<div class="author-info">
																	<div class="author-pic">
																		<img src="~/images/person-1.png" alt="Author" class="img-fluid">
																	</div>
																	<h3 class="font-weight-bold">@comment.UserName</h3>
																	<span class="position d-block mb-3">Customer</span>
																</div>
															</div>
														</div>
													</div>
												</div>
								}
							}
						}
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Blog Section -->
<div class="blog-section">
	<div class="container">
		<div class="row mb-5">
			<div class="col-md-6">
				<h2 class="section-title">Recent Blog</h2>
			</div>
			<div class="col-md-6 text-start text-md-end">
				<a href="#" class="more">View All Posts</a>
			</div>
		</div>

		<div class="row">
			<div class="col-12 col-sm-6 col-md-4 mb-4 mb-md-0">
				<div class="post-entry">
					<a href="#" class="post-thumbnail"><img src="~/images/post-1.jpg" alt="Image" class="img-fluid"></a>
					<div class="post-content-entry">
						<h3><a href="#">First Time Home Owner Ideas</a></h3>
						<div class="meta"><span>by <a href="#">Kristin Watson</a></span> <span>on <a href="#">Dec 19, 2021</a></span></div>
					</div>
				</div>
			</div>

			<div class="col-12 col-sm-6 col-md-4 mb-4 mb-md-0">
				<div class="post-entry">
					<a href="#" class="post-thumbnail"><img src="~/images/post-2.jpg" alt="Image" class="img-fluid"></a>
					<div class="post-content-entry">
						<h3><a href="#">How To Keep Your Furniture Clean</a></h3>
						<div class="meta"><span>by <a href="#">Robert Fox</a></span> <span>on <a href="#">Dec 15, 2021</a></span></div>
					</div>
				</div>
			</div>

			<div class="col-12 col-sm-6 col-md-4 mb-4 mb-md-0">
				<div class="post-entry">
					<a href="#" class="post-thumbnail"><img src="~/images/post-3.jpg" alt="Image" class="img-fluid"></a>
					<div class="post-content-entry">
						<h3><a href="#">Small Space Furniture Apartment Ideas</a></h3>
						<div class="meta"><span>by <a href="#">Kristin Watson</a></span> <span>on <a href="#">Dec 12, 2021</a></span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<style>
	.product-item:hover .icon-tools {
		display: inline-flex !important;
	}
	.heart-toggle:checked + .toggle-icon {
		color: red;
	}
	.product-thumbnail {
		max-width: 100%;
		height: 40vh;
	}

	.heart-iconn{
		color:black;
		position: absolute;
		top: 0px;
		right: 13px;
	}
	</style>
<script>
	$('.heart').click(function () {
	  const heart = $(this);
	  const productId = heart.data('id');

	  $.ajax({
		url: '/Home/Toggle',
		type: 'POST',
		data: { productId },
		success: function (res) {
		  if (res.isFavourite) {
			heart.removeClass('fa-regular').addClass('fa-solid').css('color', 'red');
		  } else {
			heart.removeClass('fa-solid').addClass('fa-regular').css('color', '#aaa');
		  }
		}
	  });
	});
</script>